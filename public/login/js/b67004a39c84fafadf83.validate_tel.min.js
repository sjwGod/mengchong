webpackJsonp([61],{0:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function s(e){e.removeClass("modal-in"),e.css({display:"none"}),f.removeClass("active")}function n(e){var e=e,a={Act:"CheckAuthCode",ImgCode:e};return o["default"].ajax({type:"post",dataType:"json",data:a,url:r.API.vet_online})}var d=t(1),o=l(d),i=t(2),u=l(i),r=t(3);t(4),t(120),t(127);var f=(0,o["default"])(".overlay"),c=(0,o["default"])(".modal-normal");u["default"].isLocalStorageSupported()||(f.find(".modal-bd").html("请退出无痕浏览模式"),f.addClass("active"),c.animate({display:"block"},100,function(){(0,o["default"])(this).addClass("modal-in")})),(0,o["default"])(".left-btn").on("tap",function(){s(c)});var p=localStorage.UserId,v=null,h={Act:"GetUserData",UserId:p};if(o["default"].ajax({type:"post",dataType:"json",data:h,async:!1,url:r.API.vet_online,success:function(e){null!=e.ResponseData&&(v=e.ResponseData)}}),""==v.Telephone)(0,o["default"])(".telphone").removeAttr("disabled").attr("placeholder","请输入手机号");else{var m=u["default"].telStar(v.Telephone);(0,o["default"])(".telphone").val(m)}var m="";(0,o["default"])(".yzm_btn").tap(function(){if((0,o["default"])(this).hasClass("disabled"))return!1;var e=(0,o["default"])(".t_yzm").val();if(""==e)return void u["default"].createTips("请输入图形验证码");var a=n(e);a.done(function(a){if(0==a.ResponseStatus){var t=120,l=(0,o["default"])(".yzm_btn");if(!l.hasClass("disabled")){l.attr("disabled",!0).addClass("disabled");var s=setInterval(function(){t--,t<=0?(clearInterval(s),l.attr("disabled",!1).removeClass("disabled").val("重新获取")):l.val(t+"秒后重新获取")},1e3),n={Act:"SendAuthCode",Account:v.Telephone,ImgCode:e};o["default"].ajax({type:"post",dataType:"json",data:n,url:r.API.vet_online,beforeSend:function(){u["default"].createTips("获取验证码...")},success:function(e){0!=e.ResponseStatus&&u["default"].createTips(e.ResponseMsg)},complete:function(){}})}}else u["default"].createTips(a.ResponseMsg);(0,o["default"])("#yanzheng_imgs").trigger("tap")})});var y=u["default"].GetQueryString("type");(0,o["default"])(".reg_btn").tap(function(){var e=(0,o["default"])(".yzm").val();m=(0,o["default"])(".telphone").val();var a=(0,o["default"])(".t_yzm").val();if(""==a)return void u["default"].createTips("请输入图形验证码");if(""==e)return void bq.createTips("请输入验证码");var t={Act:"CheckAuthCode",Account:v.Telephone,AuthCode:e,ImgCode:a};o["default"].ajax({type:"post",dataType:"json",data:t,url:r.API.vet_online,success:function(e){if(0==e.ResponseStatus){var a="./bindphone.html";if(u["default"].GetQueryString("from")&&"vboqii"==u["default"].GetQueryString("from"))var a="./bindphone.html"+window.location.search;"pwd"==y&&(a="./set_password.html"),window.location.href=a}else u["default"].createTips(e.ResponseMsg)}})}),(0,o["default"])(".paswd_validate").click(function(){var e=u["default"].s2j(localStorage.userProfile);if(e.HasPayPassword){var a="./validate_password.html?type=tel";"pwd"==y&&(a="./validate_password.html"),window.location.href=a}else u["default"].createTips("还没有设置支付密码,先设置支付密码")}),(0,o["default"])("#btnVoice").on("tap",function(){var e=v.Telephone;if(""==e)u["default"].createTips("请输入注册手机号");else if(u["default"].regExp.isMobil(e)){var a={Act:"SendVoiceForApp",Mobile:e};o["default"].ajax({type:"post",dataType:"json",data:a,url:r.API.vet_online,beforeSend:function(){},success:function(e){0!=e.ResponseStatus?u["default"].createTips(e.ResponseMsg):(f.find(".modal-bd").html("语音验证码将通过电话语音的<br>形式告知您，请注意接听来电"),f.addClass("active"),c.animate({display:"block"},100,function(){(0,o["default"])(this).addClass("modal-in")}))}})}else u["default"].createTips("手机号格式不正确")})},120:function(e,a){},127:function(e,a){}});