webpackJsonp([49],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t={UserId:h,NickName:e.NickName,Balance:e.Balance,HasPayPassword:e.HasPayPassword,Sex:e.Sex,Telephone:e.Telephone,AllOrderNum:e.AllOrderNum,UnpayOrderNum:e.UnpayOrderNum,PayedOrderNum:e.PayedOrderNum,BoqiiBean:e.BoqiiBean,VipLevel:e.VipLevel};localStorage.userProfile=l["default"].j2s(t)}function r(e){(0,s["default"])(".username").text(e.NickName),(0,s["default"])(".balance").text(parseFloat(e.Balance).toFixed(2));var t={uid:"me"};s["default"].ajax({url:API_BASE+"/accounts/me",type:"get",data:t,async:!1,headers:{Sign:y.signParams(t),Authorization:h,"Vary-Client":"web"},success:function(e){0==e.ResponseStatus&&e.ResponseData.avatar&&(0,s["default"])(".my-photo").attr("src",e.ResponseData.avatar)}}),i(e.Balance)}function i(e){var t=l["default"].s2j(localStorage.userProfile);for(var n in t)"Balance"==n&&(t[n]=e);localStorage.userProfile=l["default"].j2s(t)}var u=n(1),s=o(u),c=n(2),l=o(c),f=n(110),d=o(f),p=n(3);n(4),n(120),n(210),l["default"].isLogin();var h=localStorage.UserId||l["default"].storageInfo.get("vUserId")||"",y=new d["default"];p.NODEAPI.api;h=decodeURIComponent(h);var m="SHOP_ORDER",v="O2O_ORDER",g="UNPAID",w="PROCESSING",S="UNCOMMENTED",_="FINISHED",A="UNUSED";l["default"].isDevelopment()?window.API_BASE="http://api-dev.boqii.com/api/v1.1":window.API_BASE="http://api.boqii.com/v1.1",null!=h?((0,s["default"])(".unlogin_operation").hide(),(0,s["default"])(".logined_info").show()):((0,s["default"])(".unlogin_operation").show(),(0,s["default"])(".logined_info").hide());var b={Act:"GetUserData",UserId:h};s["default"].ajax({type:"post",dataType:"json",data:b,async:!1,url:p.API.vet_online,success:function(e){null!=e.ResponseData&&((0,s["default"])(".personlevel").find("i").text(e.ResponseData.VipLevel.split("V")[1]),a(e.ResponseData),r(e.ResponseData))}}),(0,s["default"])(".my-account").tap(function(){null!=h?window.location="./my-profile.html":window.location="./login.html"});var N=function(e,t){var n={category:e,subCategory:t};s["default"].ajax({url:API_BASE+"/alerts",type:"GET",data:n,async:!1,headers:{Sign:y.signParams(n),Authorization:h,"Vary-Client":"web"},success:function(n){if(0==n.ResponseStatus&&n.ResponseData.count)if("SHOP_ORDER"==e)switch(t){case"UNPAID":(0,s["default"])(".s_unpay .redpoint").show();break;case"PROCESSING":(0,s["default"])(".s_process .redpoint").show();break;case"UNCOMMENTED":(0,s["default"])(".uncomments .redpoint").show();break;case"FINISHED":(0,s["default"])(".s_success .redpoint").show()}else switch(t){case"UNPAID":(0,s["default"])(".o_unpa .redpoint").show();break;case"UNUSED":(0,s["default"])(".o_unuse .redpoint").show();break;case"UNCOMMENTED":(0,s["default"])(".o_uncomments .redpoint").show();break;case"FINISHED":(0,s["default"])(".o_success .redpoint").show()}}})};N(m,g),N(m,w),N(m,S),N(m,_),N(v,g),N(v,A),N(v,S),N(v,_);var D="http://v.boqii.com/";l["default"].isDevelopment()&&(D="http://vtest.boqii.com/");var P="http://m.boqii.com/";l["default"].isDevelopment()&&(P="http://mtest.boqii.com/"),(0,s["default"])(".o_unpay").on("tap",function(){window.location.href=D+"/my/orders?ot=1"}),(0,s["default"])(".o_unuse").on("tap",function(){window.location.href=D+"/my/orders?ot=3"}),(0,s["default"])(".o_uncomments").on("tap",function(){window.location.href=D+"/my/orders?ot=4"}),(0,s["default"])(".o_success").on("tap",function(){window.location.href=D+"/my/orders?ot=5"}),(0,s["default"])(".wx_my_title.vetshop a").on("tap",function(){window.location.href=D+"/my/orders?ot=0"}),(0,s["default"])(".home_icon a").on("tap",function(){window.location.href=P})},110:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(){this.token="214e1ba0-ce80-42d5-bda8-8e97c8dd7a2c"}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(111),u=o(i);a.prototype.signParams=function(e){var t=this.token;"Sign"in e&&delete e.Sign;var n=this.sortByAscendingKeys(e),o=this.joinValues(n)+t;return(0,u["default"])(o)},a.prototype.sortByAscendingKeys=function(e){var t={},n=Object.keys(e);n=n.sort(function(e,t){return e>t?1:e==t?0:-1});for(var o in n)t[n[o]]=e[n[o]];return t},a.prototype.joinValues=function(e){var t=this;if(Array.isArray(e))return e.map(function(e){return t.joinValues(e)}).join(",");if("object"===("undefined"==typeof e?"undefined":r(e))&&null!==typeof e){e=t.sortByAscendingKeys(e);var n=[];for(var o in e)n.push(t.joinValues(e[o]));return n.join("")}return String(e).valueOf()},t["default"]=a},111:function(e,t){"use strict";function n(e){return a(o(r(e)))}function o(e){return u(s(i(e),8*e.length))}function a(e){try{}catch(t){m=0}for(var n,o=m?"0123456789ABCDEF":"0123456789abcdef",a="",r=0;r<e.length;r++)n=e.charCodeAt(r),a+=o.charAt(n>>>4&15)+o.charAt(15&n);return a}function r(e){for(var t,n,o="",a=-1;++a<e.length;)t=e.charCodeAt(a),n=a+1<e.length?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a++),t<=127?o+=String.fromCharCode(t):t<=2047?o+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?o+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(o+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return o}function i(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function u(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function s(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,o=-271733879,a=-1732584194,r=271733878,i=0;i<e.length;i+=16){var u=n,s=o,c=a,y=r;n=l(n,o,a,r,e[i+0],7,-680876936),r=l(r,n,o,a,e[i+1],12,-389564586),a=l(a,r,n,o,e[i+2],17,606105819),o=l(o,a,r,n,e[i+3],22,-1044525330),n=l(n,o,a,r,e[i+4],7,-176418897),r=l(r,n,o,a,e[i+5],12,1200080426),a=l(a,r,n,o,e[i+6],17,-1473231341),o=l(o,a,r,n,e[i+7],22,-45705983),n=l(n,o,a,r,e[i+8],7,1770035416),r=l(r,n,o,a,e[i+9],12,-1958414417),a=l(a,r,n,o,e[i+10],17,-42063),o=l(o,a,r,n,e[i+11],22,-1990404162),n=l(n,o,a,r,e[i+12],7,1804603682),r=l(r,n,o,a,e[i+13],12,-40341101),a=l(a,r,n,o,e[i+14],17,-1502002290),o=l(o,a,r,n,e[i+15],22,1236535329),n=f(n,o,a,r,e[i+1],5,-165796510),r=f(r,n,o,a,e[i+6],9,-1069501632),a=f(a,r,n,o,e[i+11],14,643717713),o=f(o,a,r,n,e[i+0],20,-373897302),n=f(n,o,a,r,e[i+5],5,-701558691),r=f(r,n,o,a,e[i+10],9,38016083),a=f(a,r,n,o,e[i+15],14,-660478335),o=f(o,a,r,n,e[i+4],20,-405537848),n=f(n,o,a,r,e[i+9],5,568446438),r=f(r,n,o,a,e[i+14],9,-1019803690),a=f(a,r,n,o,e[i+3],14,-187363961),o=f(o,a,r,n,e[i+8],20,1163531501),n=f(n,o,a,r,e[i+13],5,-1444681467),r=f(r,n,o,a,e[i+2],9,-51403784),a=f(a,r,n,o,e[i+7],14,1735328473),o=f(o,a,r,n,e[i+12],20,-1926607734),n=d(n,o,a,r,e[i+5],4,-378558),r=d(r,n,o,a,e[i+8],11,-2022574463),a=d(a,r,n,o,e[i+11],16,1839030562),o=d(o,a,r,n,e[i+14],23,-35309556),n=d(n,o,a,r,e[i+1],4,-1530992060),r=d(r,n,o,a,e[i+4],11,1272893353),a=d(a,r,n,o,e[i+7],16,-155497632),o=d(o,a,r,n,e[i+10],23,-1094730640),n=d(n,o,a,r,e[i+13],4,681279174),r=d(r,n,o,a,e[i+0],11,-358537222),a=d(a,r,n,o,e[i+3],16,-722521979),o=d(o,a,r,n,e[i+6],23,76029189),n=d(n,o,a,r,e[i+9],4,-640364487),r=d(r,n,o,a,e[i+12],11,-421815835),a=d(a,r,n,o,e[i+15],16,530742520),o=d(o,a,r,n,e[i+2],23,-995338651),n=p(n,o,a,r,e[i+0],6,-198630844),r=p(r,n,o,a,e[i+7],10,1126891415),a=p(a,r,n,o,e[i+14],15,-1416354905),o=p(o,a,r,n,e[i+5],21,-57434055),n=p(n,o,a,r,e[i+12],6,1700485571),r=p(r,n,o,a,e[i+3],10,-1894986606),a=p(a,r,n,o,e[i+10],15,-1051523),o=p(o,a,r,n,e[i+1],21,-2054922799),n=p(n,o,a,r,e[i+8],6,1873313359),r=p(r,n,o,a,e[i+15],10,-30611744),a=p(a,r,n,o,e[i+6],15,-1560198380),o=p(o,a,r,n,e[i+13],21,1309151649),n=p(n,o,a,r,e[i+4],6,-145523070),r=p(r,n,o,a,e[i+11],10,-1120210379),a=p(a,r,n,o,e[i+2],15,718787259),o=p(o,a,r,n,e[i+9],21,-343485551),n=h(n,u),o=h(o,s),a=h(a,c),r=h(r,y)}return Array(n,o,a,r)}function c(e,t,n,o,a,r){return h(y(h(h(t,e),h(o,r)),a),n)}function l(e,t,n,o,a,r,i){return c(t&n|~t&o,e,t,a,r,i)}function f(e,t,n,o,a,r,i){return c(t&o|n&~o,e,t,a,r,i)}function d(e,t,n,o,a,r,i){return c(t^n^o,e,t,a,r,i)}function p(e,t,n,o,a,r,i){return c(n^(t|~o),e,t,a,r,i)}function h(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n}function y(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0});var m=0;t["default"]=n},120:function(e,t){},210:function(e,t){}});