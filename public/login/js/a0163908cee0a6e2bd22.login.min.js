webpackJsonp([30],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){e.removeClass("modal-in"),e.css({display:"none"}),v.removeClass("active")}function o(e,t){var n="./personal.html";if(s["default"].GetQueryString("from")&&s["default"].GetQueryString("from").indexOf("vetboqii")!=-1){var r=s["default"].GetQueryString("from").split("$");r.length>0?(r=r[1],r&&(n=decodeURIComponent(r))):n=S}else n=void 0!=sessionStorage.redirectUrl?decodeURIComponent(sessionStorage.redirectUrl):"./personal.html";setTimeout(function(){window.location.href=n},300)}function i(e){var t=e.UserId||"",n=s["default"].storageInfo.get("boqii_qr_openid")||"",r=new h["default"],a={openid:n,userId:t};l["default"].ajax({url:c.NODEAPI.api+"/wechatQrcodeShare/coupon",type:"get",data:a,async:!1,headers:{Sign:r.signParams(a),Authorization:"","Vary-Client":"web"},success:function(e){alert(e.ResponseMsg)},error:function(e){alert("请求出现问题,稍后请重试!")}})}function u(){if(s["default"].GetQueryString("UserId")){var e={UserId:unescape(s["default"].GetQueryString("UserId")),NickName:decodeURI(s["default"].GetQueryString("NickName")),Balance:s["default"].GetQueryString("Balance"),Sex:s["default"].GetQueryString("Sex"),Telephone:s["default"].GetQueryString("Telephone"),HasPayPassword:s["default"].GetQueryString("HasPayPassword"),VipLevel:s["default"].GetQueryString("VipLevel"),BoqiiBean:s["default"].GetQueryString("BoqiiBean"),AllOrderNum:s["default"].GetQueryString("AllOrderNum"),UnpayOrderNum:s["default"].GetQueryString("UnpayOrderNum"),PayedOrderNum:s["default"].GetQueryString("PayedOrderNum"),UseableCoupon:s["default"].GetQueryString("UseableCoupon")};s["default"].saveToLocal(e),s["default"].createTips("微信绑定账号登录成功"),s["default"].storageInfo.get("boqii_qr_openid")&&i(e),setTimeout(function(){o(null,e)},1e3)}}var f=n(1),l=r(f),d=n(2),s=r(d),c=n(3),p=n(100),g=r(p),y=n(110),h=r(y);n(4),n(120),n(101),n(176);var m="../index.htm"/*tpa=http://s.boqii.com/*/,S="http://v.boqii.com/";if(s["default"].isDevelopment()){m="http://stest.boqii.com/",S="http://vtest.boqii.com/"}var v=(0,l["default"])(".overlay"),b=(0,l["default"])(".modal-normal");s["default"].isLocalStorageSupported()||(v.addClass("active"),b.animate({display:"block"},100,function(){(0,l["default"])(this).addClass("modal-in")})),(0,l["default"])(".left-btn").on("tap",function(){a(b)}),(0,l["default"])(".sina").on("tap",function(){window.location.href="https://api.weibo.com/oauth2/authorize?client_id=4030222662&redirect_uri=http%3A%2F%2F"+window.location.host+"%2FSinaWeibo%2Fapi%2Fcallback.php"+window.location.search+"&response_type=code"}),(s["default"].storageInfo.get("boqii_auth_51fanli")||s["default"].storageInfo.get("51fanli_not"))&&(s["default"].storageInfo.clear("boqii_auth_51fanli","/",".boqii.com"),s["default"].storageInfo.clear("51fanli_not","/",".boqii.com"));var _=!0;(0,l["default"])("#login_btn").click(function(){var e=(0,l["default"])("[name=UserName]").val(),t=(0,l["default"])("[name=Password]").val(),n=!0;if(""==e?(s["default"].createTips("账户不可为空"),n=!1):""==t&&(s["default"].createTips("密码不可为空"),n=!1),t=(0,g["default"])(t),n&&(localStorage.username=e,_)){var r={Act:"UserLogin",UserName:e,Password:t};l["default"].ajax({type:"post",dataType:"json",data:r,url:c.API.vet_online,beforeSend:function(){_=!1},success:function(t){0==t.ResponseStatus?(s["default"].saveToLocal(t.ResponseData),localStorage.UserId=t.ResponseData.UserId,s["default"].GetQueryString("from")&&s["default"].GetQueryString("openid")&&"weixin"==s["default"].GetQueryString("from")?s["default"].createTips("账号绑定成功。"):(s["default"].createTips("登录成功"),s["default"].storageInfo.get("boqii_qr_openid")&&i(t.ResponseData)),o(e,t.ResponseData)):t.ResponseStatus>0?s["default"].createTips(t.ResponseMsg):t.ResponseStatus<0&&s["default"].createTips("操作失败")},complete:function(){_=!0}})}});var w=(0,l["default"])(".weibo"),G=(0,l["default"])(".weixin");(0,l["default"])(".thirdLogin");s["default"].isWeiXin()&&(w.hide(),G.show()),s["default"].isWeiXin()&&"weixin"!=s["default"].GetQueryString("from")&&(1==s["default"].GetQueryString("WxNotBind")?(localStorage.WxNotBind=1,localStorage.openid=s["default"].GetQueryString("openid")||""):0==s["default"].GetQueryString("WxNotBind")&&(localStorage.WxNotBind=0),s["default"].GetQueryString("UserId")&&(localStorage.WxNotBind=0),s["default"].GetQueryString("WxNotBind")||s["default"].GetQueryString("UserId")||(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?"+("appid="+c.WECAHT_LOGIN.appid+"&")+("redirect_uri="+c.WECAHT_LOGIN.apiurl+"&")+"response_type=code&scope=snsapi_base&state="+(s["default"].GetQueryString("from")||s["default"].GetQueryString("jumpto")))),(0,l["default"])(".weichat_login").tap(function(){1==s["default"].GetQueryString("WxNotBind")?window.location.href="./login_bindTel.html?from=weixin&openid="+s["default"].GetQueryString("openid"):u()}),(0,l["default"])(".isSee").tap(function(){(0,l["default"])(this).hasClass("active")?(0,l["default"])(this).removeClass("active").parents(".pass").find("[name=Password]").attr("type","password"):(0,l["default"])(this).addClass("active").parents(".pass").find("[name=Password]").attr("type","text")})},100:function(e,t){"use strict";function n(e){return c(r(s(e),e.length*g))}function r(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,a=-1732584194,d=271733878,s=0;s<e.length;s+=16){var c=n,p=r,g=a,y=d;n=o(n,r,a,d,e[s+0],7,-680876936),d=o(d,n,r,a,e[s+1],12,-389564586),a=o(a,d,n,r,e[s+2],17,606105819),r=o(r,a,d,n,e[s+3],22,-1044525330),n=o(n,r,a,d,e[s+4],7,-176418897),d=o(d,n,r,a,e[s+5],12,1200080426),a=o(a,d,n,r,e[s+6],17,-1473231341),r=o(r,a,d,n,e[s+7],22,-45705983),n=o(n,r,a,d,e[s+8],7,1770035416),d=o(d,n,r,a,e[s+9],12,-1958414417),a=o(a,d,n,r,e[s+10],17,-42063),r=o(r,a,d,n,e[s+11],22,-1990404162),n=o(n,r,a,d,e[s+12],7,1804603682),d=o(d,n,r,a,e[s+13],12,-40341101),a=o(a,d,n,r,e[s+14],17,-1502002290),r=o(r,a,d,n,e[s+15],22,1236535329),n=i(n,r,a,d,e[s+1],5,-165796510),d=i(d,n,r,a,e[s+6],9,-1069501632),a=i(a,d,n,r,e[s+11],14,643717713),r=i(r,a,d,n,e[s+0],20,-373897302),n=i(n,r,a,d,e[s+5],5,-701558691),d=i(d,n,r,a,e[s+10],9,38016083),a=i(a,d,n,r,e[s+15],14,-660478335),r=i(r,a,d,n,e[s+4],20,-405537848),n=i(n,r,a,d,e[s+9],5,568446438),d=i(d,n,r,a,e[s+14],9,-1019803690),a=i(a,d,n,r,e[s+3],14,-187363961),r=i(r,a,d,n,e[s+8],20,1163531501),n=i(n,r,a,d,e[s+13],5,-1444681467),d=i(d,n,r,a,e[s+2],9,-51403784),a=i(a,d,n,r,e[s+7],14,1735328473),r=i(r,a,d,n,e[s+12],20,-1926607734),n=u(n,r,a,d,e[s+5],4,-378558),d=u(d,n,r,a,e[s+8],11,-2022574463),a=u(a,d,n,r,e[s+11],16,1839030562),r=u(r,a,d,n,e[s+14],23,-35309556),n=u(n,r,a,d,e[s+1],4,-1530992060),d=u(d,n,r,a,e[s+4],11,1272893353),a=u(a,d,n,r,e[s+7],16,-155497632),r=u(r,a,d,n,e[s+10],23,-1094730640),n=u(n,r,a,d,e[s+13],4,681279174),d=u(d,n,r,a,e[s+0],11,-358537222),a=u(a,d,n,r,e[s+3],16,-722521979),r=u(r,a,d,n,e[s+6],23,76029189),n=u(n,r,a,d,e[s+9],4,-640364487),d=u(d,n,r,a,e[s+12],11,-421815835),a=u(a,d,n,r,e[s+15],16,530742520),r=u(r,a,d,n,e[s+2],23,-995338651),n=f(n,r,a,d,e[s+0],6,-198630844),d=f(d,n,r,a,e[s+7],10,1126891415),a=f(a,d,n,r,e[s+14],15,-1416354905),r=f(r,a,d,n,e[s+5],21,-57434055),n=f(n,r,a,d,e[s+12],6,1700485571),d=f(d,n,r,a,e[s+3],10,-1894986606),a=f(a,d,n,r,e[s+10],15,-1051523),r=f(r,a,d,n,e[s+1],21,-2054922799),n=f(n,r,a,d,e[s+8],6,1873313359),d=f(d,n,r,a,e[s+15],10,-30611744),a=f(a,d,n,r,e[s+6],15,-1560198380),r=f(r,a,d,n,e[s+13],21,1309151649),n=f(n,r,a,d,e[s+4],6,-145523070),d=f(d,n,r,a,e[s+11],10,-1120210379),a=f(a,d,n,r,e[s+2],15,718787259),r=f(r,a,d,n,e[s+9],21,-343485551),n=l(n,c),r=l(r,p),a=l(a,g),d=l(d,y)}return Array(n,r,a,d)}function a(e,t,n,r,a,o){return l(d(l(l(t,e),l(r,o)),a),n)}function o(e,t,n,r,o,i,u){return a(t&n|~t&r,e,t,o,i,u)}function i(e,t,n,r,o,i,u){return a(t&r|n&~r,e,t,o,i,u)}function u(e,t,n,r,o,i,u){return a(t^n^r,e,t,o,i,u)}function f(e,t,n,r,o,i,u){return a(n^(t|~r),e,t,o,i,u)}function l(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function d(e,t){return e<<t|e>>>32-t}function s(e){for(var t=Array(),n=(1<<g)-1,r=0;r<e.length*g;r+=g)t[r>>5]|=(e.charCodeAt(r/g)&n)<<r%32;return t}function c(e){for(var t=p?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}Object.defineProperty(t,"__esModule",{value:!0});var p=0,g=8;t["default"]=n},101:function(e,t){},110:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){this.token="214e1ba0-ce80-42d5-bda8-8e97c8dd7a2c"}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(111),u=r(i);a.prototype.signParams=function(e){var t=this.token;"Sign"in e&&delete e.Sign;var n=this.sortByAscendingKeys(e),r=this.joinValues(n)+t;return(0,u["default"])(r)},a.prototype.sortByAscendingKeys=function(e){var t={},n=Object.keys(e);n=n.sort(function(e,t){return e>t?1:e==t?0:-1});for(var r in n)t[n[r]]=e[n[r]];return t},a.prototype.joinValues=function(e){var t=this;if(Array.isArray(e))return e.map(function(e){return t.joinValues(e)}).join(",");if("object"===("undefined"==typeof e?"undefined":o(e))&&null!==typeof e){e=t.sortByAscendingKeys(e);var n=[];for(var r in e)n.push(t.joinValues(e[r]));return n.join("")}return String(e).valueOf()},t["default"]=a},111:function(e,t){"use strict";function n(e){return a(r(o(e)))}function r(e){return u(f(i(e),8*e.length))}function a(e){try{}catch(t){h=0}for(var n,r=h?"0123456789ABCDEF":"0123456789abcdef",a="",o=0;o<e.length;o++)n=e.charCodeAt(o),a+=r.charAt(n>>>4&15)+r.charAt(15&n);return a}function o(e){for(var t,n,r="",a=-1;++a<e.length;)t=e.charCodeAt(a),n=a+1<e.length?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}function i(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function u(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function f(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,a=-1732584194,o=271733878,i=0;i<e.length;i+=16){var u=n,f=r,l=a,y=o;n=d(n,r,a,o,e[i+0],7,-680876936),o=d(o,n,r,a,e[i+1],12,-389564586),a=d(a,o,n,r,e[i+2],17,606105819),r=d(r,a,o,n,e[i+3],22,-1044525330),n=d(n,r,a,o,e[i+4],7,-176418897),o=d(o,n,r,a,e[i+5],12,1200080426),a=d(a,o,n,r,e[i+6],17,-1473231341),r=d(r,a,o,n,e[i+7],22,-45705983),n=d(n,r,a,o,e[i+8],7,1770035416),o=d(o,n,r,a,e[i+9],12,-1958414417),a=d(a,o,n,r,e[i+10],17,-42063),r=d(r,a,o,n,e[i+11],22,-1990404162),n=d(n,r,a,o,e[i+12],7,1804603682),o=d(o,n,r,a,e[i+13],12,-40341101),a=d(a,o,n,r,e[i+14],17,-1502002290),r=d(r,a,o,n,e[i+15],22,1236535329),n=s(n,r,a,o,e[i+1],5,-165796510),o=s(o,n,r,a,e[i+6],9,-1069501632),a=s(a,o,n,r,e[i+11],14,643717713),r=s(r,a,o,n,e[i+0],20,-373897302),n=s(n,r,a,o,e[i+5],5,-701558691),o=s(o,n,r,a,e[i+10],9,38016083),a=s(a,o,n,r,e[i+15],14,-660478335),r=s(r,a,o,n,e[i+4],20,-405537848),n=s(n,r,a,o,e[i+9],5,568446438),o=s(o,n,r,a,e[i+14],9,-1019803690),a=s(a,o,n,r,e[i+3],14,-187363961),r=s(r,a,o,n,e[i+8],20,1163531501),n=s(n,r,a,o,e[i+13],5,-1444681467),o=s(o,n,r,a,e[i+2],9,-51403784),a=s(a,o,n,r,e[i+7],14,1735328473),r=s(r,a,o,n,e[i+12],20,-1926607734),n=c(n,r,a,o,e[i+5],4,-378558),o=c(o,n,r,a,e[i+8],11,-2022574463),a=c(a,o,n,r,e[i+11],16,1839030562),r=c(r,a,o,n,e[i+14],23,-35309556),n=c(n,r,a,o,e[i+1],4,-1530992060),o=c(o,n,r,a,e[i+4],11,1272893353),a=c(a,o,n,r,e[i+7],16,-155497632),r=c(r,a,o,n,e[i+10],23,-1094730640),n=c(n,r,a,o,e[i+13],4,681279174),o=c(o,n,r,a,e[i+0],11,-358537222),a=c(a,o,n,r,e[i+3],16,-722521979),r=c(r,a,o,n,e[i+6],23,76029189),n=c(n,r,a,o,e[i+9],4,-640364487),o=c(o,n,r,a,e[i+12],11,-421815835),a=c(a,o,n,r,e[i+15],16,530742520),r=c(r,a,o,n,e[i+2],23,-995338651),n=p(n,r,a,o,e[i+0],6,-198630844),o=p(o,n,r,a,e[i+7],10,1126891415),a=p(a,o,n,r,e[i+14],15,-1416354905),r=p(r,a,o,n,e[i+5],21,-57434055),n=p(n,r,a,o,e[i+12],6,1700485571),o=p(o,n,r,a,e[i+3],10,-1894986606),a=p(a,o,n,r,e[i+10],15,-1051523),r=p(r,a,o,n,e[i+1],21,-2054922799),n=p(n,r,a,o,e[i+8],6,1873313359),o=p(o,n,r,a,e[i+15],10,-30611744),a=p(a,o,n,r,e[i+6],15,-1560198380),r=p(r,a,o,n,e[i+13],21,1309151649),n=p(n,r,a,o,e[i+4],6,-145523070),o=p(o,n,r,a,e[i+11],10,-1120210379),a=p(a,o,n,r,e[i+2],15,718787259),r=p(r,a,o,n,e[i+9],21,-343485551),n=g(n,u),r=g(r,f),a=g(a,l),o=g(o,y)}return Array(n,r,a,o)}function l(e,t,n,r,a,o){return g(y(g(g(t,e),g(r,o)),a),n)}function d(e,t,n,r,a,o,i){return l(t&n|~t&r,e,t,a,o,i)}function s(e,t,n,r,a,o,i){return l(t&r|n&~r,e,t,a,o,i)}function c(e,t,n,r,a,o,i){return l(t^n^r,e,t,a,o,i)}function p(e,t,n,r,a,o,i){return l(n^(t|~r),e,t,a,o,i)}function g(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function y(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0});var h=0;t["default"]=n},120:function(e,t){},176:function(e,t){}});