webpackJsonp([53],{0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.removeClass("modal-in"),e.css({display:"none"}),w.removeClass("active")}function o(e){var e=e,t={Act:"CheckAuthCode",ImgCode:e};return h["default"].ajax({type:"post",dataType:"json",data:t,url:g.API.vet_online})}function s(e){var t=e.UserId||"",a=m["default"].storageInfo.get("boqii_qr_openid")||"",n=new S["default"],r={openid:a,userId:t};h["default"].ajax({url:g.NODEAPI.api+"/wechatQrcodeShare/coupon",type:"get",data:r,headers:{Sign:n.signParams(r),Authorization:"","Vary-Client":"web"},success:function(e){alert(e.ResponseMsg)},error:function(e){alert("请求出现问题,稍后请重试!")}})}function i(e){-function(t,a,n){function r(){a.body?(s=a.createElement("script"),s.src=u,a.body.insertBefore(s,a.body.firstChild)):setTimeout(r(),100)}var o,s,i=e,l=location.href,d=a.referrer,f=a.cookie,c=f.match(/(^|;)\s*ipycookie=([^;]*)/),p=f.match(/(^|;)\s*ipysession=([^;]*)/);t.parent!=t&&(o=l,l=d,d=o),u="//stats.ipinyou.com/cvt?a="+n("irs.M_h.ZzrTzzV4lJcl0xkSjZq4x_")+"&c="+n(c?c[2]:"")+"&s="+n(p?p[2].match(/jump\%3D(\d+)/)[1]:"")+"&u="+n(l)+"&r="+n(d)+"&rd="+(new Date).getTime()+"&OrderNo="+n(i)+"&e=",r()}(window,document,encodeURIComponent)}function l(e){var t,a=window,n=document,r=encodeURIComponent,o=location.href,s=n.referrer,i=n.cookie,l=i.match(/(^|;)\s*ipycookie=([^;]*)/),d=i.match(/(^|;)\s*ipy session=([^;]*)/);a.parent!=a&&(t=o,o=s,s=t),u="//stats.ipinyou.com/cvt?a="+r("83s.tPs.13-Yk5dZ_znSe16v7c3yP0")+"&c="+r(l?l[2]:"")+"&s="+r(d?d[2].match(/jump\%3D(\d+)/)[1]:"")+"&u="+r(o)+"&r="+r(s)+"&rd="+(new Date).getTime()+"&OrderNo="+r(e)+"&e=",(new Image).src=u}function d(){var e="";return h["default"].ajax({url:"http://sailfish.io/api/v1/system/remote_ip",success:function(t){e=t.data.remote_ip}}),e}function f(e){m["default"].storageInfo.set("vUserId",e.UserId,void 0,"/",".boqii.com"),m["default"].storageInfo.set("vHasPayPassword",e.HasPayPassword,void 0,"/",".boqii.com"),m["default"].storageInfo.set("vBalance",e.Balance,void 0,"/",".boqii.com")}function c(){for(var e="",t=[],a=document.cookie,n=a.split(";"),r=0;r<n.length;r++)n[r].indexOf("utm_source")!=-1&&n[r].indexOf("vet_utm_source")==-1&&t.push(n[r]);return 0!=t.length?(t=t.reverse(),e=t[0].split("=")[0].replace(/\s/g,"").substr(11)):e="",e}var p=a(1),h=n(p),v=a(2),m=n(v),g=a(3),y=a(100),b=n(y),C=a(110),S=n(C);a(4),a(120),a(101),a(226);var A=g.URL.shop_host,_=(g.URL.vet_host,m["default"].GetQueryString("from")),I=!1;_&&"weixin"==_&&(I=!0);var w=(0,h["default"])(".overlay"),T=(0,h["default"])(".modal-normal");m["default"].isLocalStorageSupported()||(w.find(".modal-bd").html("请退出无痕浏览模式"),w.addClass("active"),T.animate({display:"block"},100,function(){(0,h["default"])(this).addClass("modal-in")})),(0,h["default"])(".left-btn").on("tap",function(){r(T)}),localStorage.regtel="",(0,h["default"])(".yzm_btn").tap(function(){var e=(0,h["default"])("[name=UserName]").val();localStorage.regtel||(localStorage.regtel=e);var t=(0,h["default"])(".t_yzm").val();if(""==t)return void m["default"].createTips("请输入图形验证码");if(""==e)m["default"].createTips("请输入注册手机号");else if(m["default"].regExp.isMobil(e))if(e!=localStorage.regtel)(0,h["default"])("#yanzheng_imgs").trigger("tap"),m["default"].createTips("图形验证码有误！"),localStorage.regtel=e;else{var a=o(t);a.done(function(a){if(0==a.ResponseStatus){var n=120,r=(0,h["default"])(".yzm_btn");if(!r.hasClass("disabled")){r.attr("disabled",!0).addClass("disabled");var o=setInterval(function(){n--,r.val(n+"秒后重新获取"),n<=0&&(clearInterval(o),r.attr("disabled",!1).removeClass("disabled").val("重新获取"))},1e3),s={UDID:"123",Act:"SendAuthCode",Account:e,ImgCode:t};h["default"].ajax({type:"post",dataType:"json",data:s,url:g.API.vet_online,beforeSend:function(){m["default"].createTips("获取验证码...")},success:function(e){0!=e.ResponseStatus&&m["default"].createTips(e.ResponseMsg)}})}}else m["default"].createTips(a.ResponseMsg);(0,h["default"])("#yanzheng_imgs").trigger("tap")})}else m["default"].createTips("手机号格式不正确")}),(0,h["default"])(".isSee").tap(function(){(0,h["default"])(this).hasClass("active")?(0,h["default"])(this).removeClass("active").parents(".pass").find("[name=Password]").attr("type","password"):(0,h["default"])(this).addClass("active").parents(".pass").find("[name=Password]").attr("type","text")}),(0,h["default"])(".reg_ty em").tap(function(){(0,h["default"])(this).hasClass("disagree")?(0,h["default"])(this).removeClass("disagree"):(0,h["default"])(this).addClass("disagree")}),(0,h["default"])("#btnVoice").on("tap",function(){var e=(0,h["default"])("[name=UserName]").val();if(""==e)m["default"].createTips("请输入注册手机号");else if(m["default"].regExp.isMobil(e)){var t={Act:"SendVoiceForApp",Mobile:e};h["default"].ajax({type:"post",dataType:"json",data:t,url:g.API.vet_online,beforeSend:function(){},success:function(e){0!=e.ResponseStatus?m["default"].createTips(e.ResponseMsg):(w.find(".modal-bd").html("语音验证码将通过电话语音的<br>形式告知您，请注意接听来电"),w.addClass("active"),T.animate({display:"block"},100,function(){(0,h["default"])(this).addClass("modal-in")}))}})}else m["default"].createTips("手机号格式不正确")}),(0,h["default"])(".t_yzm").blur(function(){var e=(0,h["default"])(".t_yzm").val();""==e&&m["default"].createTips("请输入图形验证码")}),(0,h["default"])("input[name='UserName']").on("blur",function(){var e=(0,h["default"])(this).val();h["default"].ajax({type:"post",url:g.API.vet_online,data:{Act:"CheckMobileIsBoqiiUserForApp",Mobile:e},success:function(e){e=JSON.parse(e),0==e.ResponseStatus&&(m["default"].createTips("该手机号已被使用！"),(0,h["default"])("input[name='UserName']").val(""))}})});var j=c(),R=m["default"].GetQueryString("vurl"),P=m["default"].GetQueryString("from"),U=decodeURIComponent(m["default"].GetQueryString("redirecturl"));(0,h["default"])("#reg").tap(function(){var e=!0,t=(0,h["default"])("[name=UserName]").val(),a=(0,h["default"])("[name=Password]").val(),n=(0,h["default"])("[name=AuthCode]").val(),r=(0,b["default"])(a);if(""==t?(m["default"].createTips("请输入注册手机号"),e=!1):""==a?(m["default"].createTips("请设置登录密码"),e=!1):""==n?(m["default"].createTips("请输入手机验证码"),e=!1):(0,h["default"])(".reg_ty .checkbox").hasClass("current")||(m["default"].createTips("先阅读并同意波奇网服务协议"),e=!1),e){var o=d(),u={Act:"UserRegister",UserName:t,Password:r,AuthCode:n,H5Channel:j,RegisterIp:o};h["default"].ajax({type:"post",dataType:"json",data:u,url:g.API.vet_online,success:function(e){0==e.ResponseStatus?(localStorage.UserId=e.ResponseData.UserId,m["default"].storageInfo.set("vTelephone",t,void 0,"/",".boqii.com"),f(e.ResponseData),m["default"].createTips("注册成功"),m["default"].storageInfo.get("boqii_qr_openid")&&s(e.ResponseData),R?window.location.href=R:"miaosha"==P?window.location.href=A+"./activity/boqiishop20150901.html?source=h5":"activity"==P?window.location.href=U:I&&localStorage.localhref?window.location.href="./"+localStorage.localhref+".html":window.location.href="./personal.html",i(e.ResponseData.UserId),l(e.ResponseData.UserId)):e.ResponseStatus>0?m["default"].createTips(e.ResponseMsg):e.ResponseStatus<0&&m["default"].createTips("操作失败:"+e.ResponseMsg)}})}}),(0,h["default"])(".reg_ty .checkbox").tap(function(){(0,h["default"])(this).hasClass("current")?(0,h["default"])(this).removeClass("current"):(0,h["default"])(this).addClass("current")})},100:function(e,t){"use strict";function a(e){return c(n(f(e),e.length*h))}function n(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var a=1732584193,n=-271733879,r=-1732584194,d=271733878,f=0;f<e.length;f+=16){var c=a,p=n,h=r,v=d;a=o(a,n,r,d,e[f+0],7,-680876936),d=o(d,a,n,r,e[f+1],12,-389564586),r=o(r,d,a,n,e[f+2],17,606105819),n=o(n,r,d,a,e[f+3],22,-1044525330),a=o(a,n,r,d,e[f+4],7,-176418897),d=o(d,a,n,r,e[f+5],12,1200080426),r=o(r,d,a,n,e[f+6],17,-1473231341),n=o(n,r,d,a,e[f+7],22,-45705983),a=o(a,n,r,d,e[f+8],7,1770035416),d=o(d,a,n,r,e[f+9],12,-1958414417),r=o(r,d,a,n,e[f+10],17,-42063),n=o(n,r,d,a,e[f+11],22,-1990404162),a=o(a,n,r,d,e[f+12],7,1804603682),d=o(d,a,n,r,e[f+13],12,-40341101),r=o(r,d,a,n,e[f+14],17,-1502002290),n=o(n,r,d,a,e[f+15],22,1236535329),a=s(a,n,r,d,e[f+1],5,-165796510),d=s(d,a,n,r,e[f+6],9,-1069501632),r=s(r,d,a,n,e[f+11],14,643717713),n=s(n,r,d,a,e[f+0],20,-373897302),a=s(a,n,r,d,e[f+5],5,-701558691),d=s(d,a,n,r,e[f+10],9,38016083),r=s(r,d,a,n,e[f+15],14,-660478335),n=s(n,r,d,a,e[f+4],20,-405537848),a=s(a,n,r,d,e[f+9],5,568446438),d=s(d,a,n,r,e[f+14],9,-1019803690),r=s(r,d,a,n,e[f+3],14,-187363961),n=s(n,r,d,a,e[f+8],20,1163531501),a=s(a,n,r,d,e[f+13],5,-1444681467),d=s(d,a,n,r,e[f+2],9,-51403784),r=s(r,d,a,n,e[f+7],14,1735328473),n=s(n,r,d,a,e[f+12],20,-1926607734),a=i(a,n,r,d,e[f+5],4,-378558),d=i(d,a,n,r,e[f+8],11,-2022574463),r=i(r,d,a,n,e[f+11],16,1839030562),n=i(n,r,d,a,e[f+14],23,-35309556),a=i(a,n,r,d,e[f+1],4,-1530992060),d=i(d,a,n,r,e[f+4],11,1272893353),r=i(r,d,a,n,e[f+7],16,-155497632),n=i(n,r,d,a,e[f+10],23,-1094730640),a=i(a,n,r,d,e[f+13],4,681279174),d=i(d,a,n,r,e[f+0],11,-358537222),r=i(r,d,a,n,e[f+3],16,-722521979),n=i(n,r,d,a,e[f+6],23,76029189),a=i(a,n,r,d,e[f+9],4,-640364487),d=i(d,a,n,r,e[f+12],11,-421815835),r=i(r,d,a,n,e[f+15],16,530742520),n=i(n,r,d,a,e[f+2],23,-995338651),a=u(a,n,r,d,e[f+0],6,-198630844),d=u(d,a,n,r,e[f+7],10,1126891415),r=u(r,d,a,n,e[f+14],15,-1416354905),n=u(n,r,d,a,e[f+5],21,-57434055),a=u(a,n,r,d,e[f+12],6,1700485571),d=u(d,a,n,r,e[f+3],10,-1894986606),r=u(r,d,a,n,e[f+10],15,-1051523),n=u(n,r,d,a,e[f+1],21,-2054922799),a=u(a,n,r,d,e[f+8],6,1873313359),d=u(d,a,n,r,e[f+15],10,-30611744),r=u(r,d,a,n,e[f+6],15,-1560198380),n=u(n,r,d,a,e[f+13],21,1309151649),a=u(a,n,r,d,e[f+4],6,-145523070),d=u(d,a,n,r,e[f+11],10,-1120210379),r=u(r,d,a,n,e[f+2],15,718787259),n=u(n,r,d,a,e[f+9],21,-343485551),a=l(a,c),n=l(n,p),r=l(r,h),d=l(d,v)}return Array(a,n,r,d)}function r(e,t,a,n,r,o){return l(d(l(l(t,e),l(n,o)),r),a)}function o(e,t,a,n,o,s,i){return r(t&a|~t&n,e,t,o,s,i)}function s(e,t,a,n,o,s,i){return r(t&n|a&~n,e,t,o,s,i)}function i(e,t,a,n,o,s,i){return r(t^a^n,e,t,o,s,i)}function u(e,t,a,n,o,s,i){return r(a^(t|~n),e,t,o,s,i)}function l(e,t){var a=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function d(e,t){return e<<t|e>>>32-t}function f(e){for(var t=Array(),a=(1<<h)-1,n=0;n<e.length*h;n+=h)t[n>>5]|=(e.charCodeAt(n/h)&a)<<n%32;return t}function c(e){for(var t=p?"0123456789ABCDEF":"0123456789abcdef",a="",n=0;n<4*e.length;n++)a+=t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15);return a}Object.defineProperty(t,"__esModule",{value:!0});var p=0,h=8;t["default"]=a},101:function(e,t){},110:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){this.token="214e1ba0-ce80-42d5-bda8-8e97c8dd7a2c"}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=a(111),i=n(s);r.prototype.signParams=function(e){var t=this.token;"Sign"in e&&delete e.Sign;var a=this.sortByAscendingKeys(e),n=this.joinValues(a)+t;return(0,i["default"])(n)},r.prototype.sortByAscendingKeys=function(e){var t={},a=Object.keys(e);a=a.sort(function(e,t){return e>t?1:e==t?0:-1});for(var n in a)t[a[n]]=e[a[n]];return t},r.prototype.joinValues=function(e){var t=this;if(Array.isArray(e))return e.map(function(e){return t.joinValues(e)}).join(",");if("object"===("undefined"==typeof e?"undefined":o(e))&&null!==typeof e){e=t.sortByAscendingKeys(e);var a=[];for(var n in e)a.push(t.joinValues(e[n]));return a.join("")}return String(e).valueOf()},t["default"]=r},111:function(e,t){"use strict";function a(e){return r(n(o(e)))}function n(e){return i(u(s(e),8*e.length))}function r(e){try{}catch(t){m=0}for(var a,n=m?"0123456789ABCDEF":"0123456789abcdef",r="",o=0;o<e.length;o++)a=e.charCodeAt(o),r+=n.charAt(a>>>4&15)+n.charAt(15&a);return r}function o(e){for(var t,a,n="",r=-1;++r<e.length;)t=e.charCodeAt(r),a=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=a&&a<=57343&&(t=65536+((1023&t)<<10)+(1023&a),r++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function s(e){for(var t=Array(e.length>>2),a=0;a<t.length;a++)t[a]=0;for(var a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<a%32;return t}function i(e){for(var t="",a=0;a<32*e.length;a+=8)t+=String.fromCharCode(e[a>>5]>>>a%32&255);return t}function u(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var a=1732584193,n=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var i=a,u=n,l=r,v=o;a=d(a,n,r,o,e[s+0],7,-680876936),o=d(o,a,n,r,e[s+1],12,-389564586),r=d(r,o,a,n,e[s+2],17,606105819),n=d(n,r,o,a,e[s+3],22,-1044525330),a=d(a,n,r,o,e[s+4],7,-176418897),o=d(o,a,n,r,e[s+5],12,1200080426),r=d(r,o,a,n,e[s+6],17,-1473231341),n=d(n,r,o,a,e[s+7],22,-45705983),a=d(a,n,r,o,e[s+8],7,1770035416),o=d(o,a,n,r,e[s+9],12,-1958414417),r=d(r,o,a,n,e[s+10],17,-42063),n=d(n,r,o,a,e[s+11],22,-1990404162),a=d(a,n,r,o,e[s+12],7,1804603682),o=d(o,a,n,r,e[s+13],12,-40341101),r=d(r,o,a,n,e[s+14],17,-1502002290),n=d(n,r,o,a,e[s+15],22,1236535329),a=f(a,n,r,o,e[s+1],5,-165796510),o=f(o,a,n,r,e[s+6],9,-1069501632),r=f(r,o,a,n,e[s+11],14,643717713),n=f(n,r,o,a,e[s+0],20,-373897302),a=f(a,n,r,o,e[s+5],5,-701558691),o=f(o,a,n,r,e[s+10],9,38016083),r=f(r,o,a,n,e[s+15],14,-660478335),n=f(n,r,o,a,e[s+4],20,-405537848),a=f(a,n,r,o,e[s+9],5,568446438),o=f(o,a,n,r,e[s+14],9,-1019803690),r=f(r,o,a,n,e[s+3],14,-187363961),n=f(n,r,o,a,e[s+8],20,1163531501),a=f(a,n,r,o,e[s+13],5,-1444681467),o=f(o,a,n,r,e[s+2],9,-51403784),r=f(r,o,a,n,e[s+7],14,1735328473),n=f(n,r,o,a,e[s+12],20,-1926607734),a=c(a,n,r,o,e[s+5],4,-378558),o=c(o,a,n,r,e[s+8],11,-2022574463),r=c(r,o,a,n,e[s+11],16,1839030562),n=c(n,r,o,a,e[s+14],23,-35309556),a=c(a,n,r,o,e[s+1],4,-1530992060),o=c(o,a,n,r,e[s+4],11,1272893353),r=c(r,o,a,n,e[s+7],16,-155497632),n=c(n,r,o,a,e[s+10],23,-1094730640),a=c(a,n,r,o,e[s+13],4,681279174),o=c(o,a,n,r,e[s+0],11,-358537222),r=c(r,o,a,n,e[s+3],16,-722521979),n=c(n,r,o,a,e[s+6],23,76029189),a=c(a,n,r,o,e[s+9],4,-640364487),o=c(o,a,n,r,e[s+12],11,-421815835),r=c(r,o,a,n,e[s+15],16,530742520),n=c(n,r,o,a,e[s+2],23,-995338651),a=p(a,n,r,o,e[s+0],6,-198630844),o=p(o,a,n,r,e[s+7],10,1126891415),r=p(r,o,a,n,e[s+14],15,-1416354905),n=p(n,r,o,a,e[s+5],21,-57434055),a=p(a,n,r,o,e[s+12],6,1700485571),o=p(o,a,n,r,e[s+3],10,-1894986606),r=p(r,o,a,n,e[s+10],15,-1051523),n=p(n,r,o,a,e[s+1],21,-2054922799),a=p(a,n,r,o,e[s+8],6,1873313359),o=p(o,a,n,r,e[s+15],10,-30611744),r=p(r,o,a,n,e[s+6],15,-1560198380),n=p(n,r,o,a,e[s+13],21,1309151649),a=p(a,n,r,o,e[s+4],6,-145523070),o=p(o,a,n,r,e[s+11],10,-1120210379),r=p(r,o,a,n,e[s+2],15,718787259),n=p(n,r,o,a,e[s+9],21,-343485551),a=h(a,i),n=h(n,u),r=h(r,l),o=h(o,v)}return Array(a,n,r,o)}function l(e,t,a,n,r,o){return h(v(h(h(t,e),h(n,o)),r),a)}function d(e,t,a,n,r,o,s){return l(t&a|~t&n,e,t,r,o,s)}function f(e,t,a,n,r,o,s){return l(t&n|a&~n,e,t,r,o,s)}function c(e,t,a,n,r,o,s){return l(t^a^n,e,t,r,o,s)}function p(e,t,a,n,r,o,s){return l(a^(t|~n),e,t,r,o,s)}function h(e,t){var a=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function v(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0});var m=0;t["default"]=a},120:function(e,t){},226:function(e,t){}});